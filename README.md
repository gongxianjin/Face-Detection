# 简介
接触嵌入式的第一个例程，结合了opencv和百度Ai，从而实现**人脸检测、人脸采集和人脸对比**。
## 文件
**人脸采集**
 - 1.py：无微信发送，给用户编号为x，以User.x.jpg格式保存人脸数据（如输入1，数据保存为User.1，返回User1）
 - 1_1.py：无微信发送，自定义输入用户标识，并以输入标识保存人脸数据（如输入JiangWen，数据与返回均保存为JiangWen）
 - 1_2.py：有微信发送，且用户标识方式与1_1.py相同


**人脸对比**
 - 2.py：无微信，对应1.py标识方式
 - 2_1.py：无微信，对应1_1.py标识方式
 - 2_2.py：有微信，对应1_1.py标识方式
## 1_x.py：人脸采集
运行流程：人脸检测（OpenCV） ——> 获取人脸框中内容并拍照，保存灰度图（5张） ——> 检测是否保存了照片（**变相检测是否有人脸**） ——>将照片上传到百度人脸库 ——> （发送采集消息到微信）——> 采集成功
## 2_x.py：人脸对比
运行流程：人脸检测（OpenCV） ——> 获取人脸框中内容并拍照，保存灰度图到cache文件夹（1张） ——> 将cache照片上传与百度人脸库进行对比 ——> 返回user_id和score（相似度） ——> 将user_id和score以及对比时间**写入到Detection.txt**中 ——>（发送对比结果到微信）——> 删除cache中的cache.jpg

# ToDo:
 - 2019.04.12优化人脸检测中**检测时卡顿**的问题（经了解是因为将拍照与上传**写到了同一个循环下**）
 - 2019.04.12实现人脸采集时多张脸应该只上传最大的脸
 - 2019.04.12实现人脸对比时多张脸应该只检测最大的脸
 - 2019.04.12优化人脸对比时的逻辑，目前运行时会等待人脸出现在摄像头中才会开始运行，不然会一直处于**等待人脸**状态
